length = 18 -- size of the farm
height = 6
ttl = 5 -- seconds
dir = 1 -- strafe direction, 1 = right; 0 = left

function H()
k = 0
while k < height do
turtle.dig()
if turtle.digUp() then
turtle.up()
turtle.turnRight()
turtle.turnRight()
turtle.dig()
if turtle.forward() then
turtle.digUp()
turtle.back()
end
turtle.turnLeft()
turtle.turnLeft()
else
turtle.up()
end
k = k + 1
end
k = 0
while k < height do
turtle.down()
k = k + 1
end

if turtle.getItemCount(1) > 1 then
turtle.select(1)
turtle.place()
end

end

function SCK()
turtle.suck()
turtle.suckUp()
turtle.suckDown()
end

function S()
  SCK()
  turtle.select(1)
  if turtle.compare() then
    return("sapling")
  end
  turtle.select(2)
  if turtle.compare() then
  turtle.select(1)
    return("wood")
  else 
    turtle.select(1)
    return("nix")
  end    
end

function RF()
SCK()
turtle.select(16)
turtle.refuel()
turtle.select(1)
end

function R()
f = 0
SCK()
if dir == 0 then
turtle.turnRight()
else
turtle.turnLeft()
end

while f < length do
turtle.dig()
SCK()
turtle.forward()
turtle.dig()
SCK()
f = f + 1
end

if dir == 1 then
turtle.turnRight()
else
turtle.turnLeft()
end
SCK()
end

function M()
SCK()
if dir == 0 then
turtle.turnLeft()
SCK()
if not turtle.forward() then
turtle.turnRight()
SCK()
return false
end
turtle.turnRight()
SCK()
return true
elseif dir == 1 then
turtle.turnRight()
SCK()
if not turtle.forward() then
turtle.turnLeft()
SCK()
return false
end
turtle.turnLeft()
SCK()
return true
end

end

RF()

q = 0
s = ""

while true do
print(S())

q = 0
while q < length do
SCK()
if not M() then
  R() -- return to start
  q = 0
end

s = S() -- S()can what is infront and write to 's'
print(s)

if s == "nix" and turtle.getItemCount(1) > 1 then
  turtle.select(1)
  turtle.place()
end

if s == "wood" then
H()
SCK()
end

s = ""
q = q + 1

end
sleep(6)
end


print("Kein Sprit!")
